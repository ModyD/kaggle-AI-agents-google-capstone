# ==============================================
# GLOBAL ENV (used by backend, frontend, CI/CD)
# ==============================================

# ----------------------------
# Backend App Settings
# ----------------------------
APP_ENV=development
APP_NAME=incident-triage-agent
SECRET_KEY=CHANGE_ME
BACKEND_PORT=8080
FRONTEND_URL=http://localhost:3000

# ----------------------------
# Google Cloud / Vertex AI / Gemini
# ----------------------------
# GCP project configuration
GCP_PROJECT_ID=your-project-id
GCP_REGION=us-central1

# Service account credentials (local dev only)
# In production, Cloud Run uses workload identity or Secret Manager.
GOOGLE_APPLICATION_CREDENTIALS=/absolute/path/to/service-account.json

# Gemini model settings (choose one)
VERTEX_GEMINI_MODEL=gemini-3-pro-preview
VERTEX_EMBED_MODEL=text-embedding-004

# ----------------------------
# Database: Neon Postgres + pgvector
# ----------------------------
NEON_DATABASE_URL=postgresql://neondb_owner:npg_cG1hxHYzOom0@ep-hidden-river-a4au76ij-pooler.us-east-1.aws.neon.tech/neondb?sslmode=require&ssl=true
PGVECTOR_COLLECTION=runbooks

# Optional connection tuning
DATABASE_POOL_MIN=1
DATABASE_POOL_MAX=5

# ----------------------------
# Redis (Upstash or local)
# ----------------------------
# Upstash REST API mode
UPSTASH_REDIS_REST_URL=rediss://default:AR6hAAImcDIxNDFiNWQxNzkxMzU0MmI4YWJmOGQwMDJmYTA0ZWMyZnAyNzg0MQ@pet-jawfish-7841.upstash.io:6379
UPSTASH_REDIS_REST_TOKEN=AR6hAAImcDIxNDFiNWQxNzkxMzU0MmI4YWJmOGQwMDJmYTA0ZWMyZnAyNzg0MQ

# or Standard Redis URL (if not using REST)
# REDIS_URL=redis://localhost:6379

# Redis namespaces
REDIS_SESSION_PREFIX=session:
REDIS_CACHE_PREFIX=cache:
REDIS_TELEMETRY_PREFIX=telemetry:

# ----------------------------
# LangChain / LLM Settings
# ----------------------------
LANGCHAIN_PROJECT=incident-agent
LANGCHAIN_TRACING_V2=false

# ----------------------------
# Cloud Run Deployment
# ----------------------------
CLOUD_RUN_SERVICE_NAME=incident-triage-backend
CLOUD_RUN_REGION=us-central1
CLOUD_RUN_MIN_INSTANCES=0
CLOUD_RUN_MAX_INSTANCES=2

# ----------------------------
# Frontend (Next.js / Vercel)
# ----------------------------
NEXT_PUBLIC_BACKEND_URL=http://localhost:8080

# ==============================================
# OPTIONAL / FUTURE USE
# ==============================================

# RAG & memory
RAG_TOP_K=5

# Safety & logging
LOG_LEVEL=INFO
LOG_FORMAT=json

# Simulation parameters
SIMULATION_STEP_DELAY=0.4
SIMULATION_WARN_THRESHOLD=high
